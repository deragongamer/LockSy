<!-- data/index.html -->
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LockSy Control Panel</title>
  <link rel="stylesheet" href="style.css">
  <script defer src="script.js"></script>
</head>
<body class="theme-dark">
  <nav class="topbar rounded-lg shadow-md">
    <div class="nav-left">
      <img src="logo.png" alt="LockSy Bot Logo" class="logo rounded-full" />
      <h1>LockSy Control Panel</h1>
    </div>
    <div class="nav-right">
      <button id="theme-toggle" class="btn icon-btn">ğŸŒ™</button>
      <button id="mode-toggle" class="btn">WiFi Mode</button>
    </div>
  </nav>
  <main class="container grid gap-6">
    <!-- System Info -->
    <section id="info" class="card rounded-2xl">
      <h2>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¯Ø³ØªÚ¯Ø§Ù‡</h2>
      <div class="grid cols-2 gap-4">
        <div>Ø³Ø±ÛŒØ§Ù„: <span id="device-serial">--</span></div>
        <div>Ù…Ø¯Ù„: <span id="device-model-display">--</span></div>
        <div>Firmware: <span id="firmware-version">--</span></div>
        <div>Time: <span id="current-time">--</span></div>
      </div>
      <button id="sync-time" class="btn full-width">Sync Time</button>
    </section>

    <!-- WiFi Settings -->
    <section id="wifi" class="card rounded-2xl">
      <h2>ØªÙ†Ø¸ÛŒÙ…Ø§Øª WiFi</h2>
      <div class="form-group">
        <button id="scan-networks" class="btn">ğŸ” Scan Networks</button>
        <select id="ssid-list" class="input-field"></select>
        <input type="password" id="wifi-password" class="input-field" placeholder="Password">
        <button id="connect-wifi" class="btn full-width">Connect</button>
      </div>
      <div class="status-row">Current Mode: <span id="wifi-mode">Station</span></div>
    </section>

    <!-- Hardware Settings -->
    <section id="hardware" class="card rounded-2xl">
      <h2>ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³Ø®Øªâ€ŒØ§ÙØ²Ø§Ø±</h2>
      <div class="form-group">
        <label>Ù†ÙˆØ¹ Ø®ÙˆØ§Ù†Ù†Ø¯Ù‡ RFID:</label>
        <select id="reader-type" class="input-field">
          <option value="rc522">RC522</option>
          <option value="pn532">PN532</option>
          <option value="rdm6300">RDM6300</option>
          <option value="wiegand">Wiegand</option>
        </select>
      </div>
      <div id="wiegand-pins" class="form-group hidden">
        <label>D0 Pin:</label><input type="text" id="w0" class="input-field">
        <label>D1 Pin:</label><input type="text" id="w1" class="input-field">
      </div>
      <div id="pin-config" class="drag-container grid cols-4 gap-3">
        <!-- Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒÙ† draggable -->
      </div>
      <button id="save-hardware" class="btn full-width">Save Hardware Settings</button>
    </section>

    <!-- User Management -->
    <section id="users" class="card rounded-2xl">
      <h2>Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h2>
      <form id="add-user-form" class="flex gap-3">
        <input type="text" id="new-user" class="input-field" placeholder="User Name">
        <input type="text" id="new-uid" class="input-field" placeholder="RFID UID">
        <button type="submit" class="btn">Add User</button>
      </form>
      <table id="user-table" class="table">
        <thead><tr><th>UID</th><th>Name</th><th>Action</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Logs -->
    <section id="logs" class="card rounded-2xl">
      <h2>Ù„Ø§Ú¯â€ŒÙ‡Ø§</h2>
      <div class="flex gap-3">
        <button id="clear-logs" class="btn">Clear Logs</button>
        <button id="download-logs" class="btn">Download CSV</button>
      </div>
      <table id="log-table" class="table">
        <thead><tr><th>Time</th><th>UID</th><th>Result</th></tr></thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- Controls & Advanced -->
    <section id="controls" class="card rounded-2xl">
      <h2>Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§</h2>
      <div class="flex gap-3">
        <button id="lock-btn" class="btn large">ğŸ”’ Lock</button>
        <button id="unlock-btn" class="btn large">ğŸ”“ Unlock</button>
      </div>
      <div class="form-group">
        <label for="auto-lock">Auto-lock (sec):</label>
        <input type="number" id="auto-lock" class="input-field" min="0">
      </div>
      <div class="form-group">
        <label for="auto-reboot">Auto-reboot (HH:MM):</label>
        <input type="time" id="auto-reboot" class="input-field">
      </div>
      <button id="save-controls" class="btn full-width">Save Controls</button>
      <div class="ota-section">
        <button id="check-update" class="btn">Check OTA Update</button>
        <input type="file" id="firmware-file" class="input-field">
        <button id="upload-firmware" class="btn">Upload Firmware</button>
      </div>
    </section>

    <!-- User Settings -->
    <section id="user-settings" class="card rounded-2xl">
      <h2>ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙˆØ±ÙˆØ¯</h2>
      <form id="change-credentials" class="grid gap-3">
        <input type="text" id="new-username" class="input-field" placeholder="Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¬Ø¯ÛŒØ¯">
        <input type="password" id="new-password" class="input-field" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¬Ø¯ÛŒØ¯">
        <button type="submit" class="btn full-width">Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª</button>
      </form>
    </section>

  </main>
  <footer class="footer rounded-lg text-center">
    <p>Â© 2025 LockSy Bot</p>
    <p>Developed by Dragon Gamer &amp; GPT</p>
  </footer>
</body>
</html>
